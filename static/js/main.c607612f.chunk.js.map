{"version":3,"sources":["components/Items/Items.tsx","components/Pagination/Pagination.tsx","App.tsx","utils.ts","index.tsx"],"names":["Items","items","map","item","Pagination","total","perPage","page","onPageChange","onNextChange","onPrevChange","currentAmountPages","Math","ceil","Number","pages","Array","from","keys","i","className","classNames","disabled","type","onClick","active","length","to","numbers","n","push","getNumbers","App","useSearchParams","searchParams","setSearchParams","currentPage","get","currentPerPage","indexOfLastItem","indexOfFirstitem","visibleItems","slice","getItem","index","split","itemsFrom","itemsTo","id","value","onChange","e","target","set","htmlFor","current","String","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c607612f.chunk.js","sourcesContent":["import { FC } from 'react';\n\ninterface Props {\n  items: string[];\n}\n\nexport const Items: FC<Props> = ({ items }) => (\n  <ul>\n    {items.map(item => (\n      <li key={item} data-cy=\"item\">\n        {item}\n      </li>\n    ))}\n  </ul>\n);\n","import { FC } from 'react';\nimport classNames from 'classnames';\n\ninterface Props {\n  total: number;\n  perPage: string;\n  page: string;\n  onPageChange: (page: number) => void;\n  onNextChange: () => void;\n  onPrevChange: () => void;\n}\n\nexport const Pagination: FC<Props> = ({\n  total,\n  perPage,\n  page,\n  onPageChange,\n  onNextChange,\n  onPrevChange,\n}) => {\n  const currentAmountPages = Math.ceil(total / Number(perPage));\n  const pages = Array.from(Array(currentAmountPages)\n    .keys())\n    .map(i => i + 1);\n\n  return (\n    <ul className=\"pagination\">\n      <li className={classNames(\n        'page-item',\n        { disabled: page === '1' },\n      )}\n      >\n        <button\n          type=\"button\"\n          data-cy=\"prevLink\"\n          className=\"page-link\"\n          aria-disabled={page === '1'}\n          onClick={onPrevChange}\n        >\n          «\n        </button>\n      </li>\n      {pages.map(item => (\n        <li\n          key={item}\n          className={classNames('page-item', {\n            active: +page === item,\n          })}\n        >\n          <button\n            type=\"button\"\n            data-cy=\"pageLink\"\n            className=\"page-link\"\n            onClick={() => onPageChange(item)}\n          >\n            {item}\n          </button>\n        </li>\n      ))}\n      <li className={classNames(\n        'page-item',\n        { disabled: +page === pages.length },\n      )}\n      >\n        <button\n          type=\"button\"\n          data-cy=\"nextLink\"\n          className=\"page-link\"\n          aria-disabled={page ? +page === pages.length : false}\n          onClick={onNextChange}\n        >\n          »\n        </button>\n      </li>\n    </ul>\n  );\n};\n","import React from 'react';\nimport './App.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { Items } from './components/Items';\nimport { Pagination } from './components/Pagination';\nimport { getNumbers } from './utils';\n\nconst items = getNumbers(1, 42)\n  .map(n => `Item ${n}`);\n\nexport const App: React.FC = () => {\n  const [searchParams, setSearchParams] = useSearchParams({});\n\n  const currentPage = searchParams.get('page') || '1';\n  const currentPerPage = searchParams.get('perPage') || '5';\n\n  const handleSelect = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = e.target;\n\n    searchParams.set('page', `${1}`);\n    searchParams.set('perPage', `${value}`);\n    setSearchParams(searchParams);\n  };\n\n  const handlePageChange = (current: number) => {\n    searchParams.set('page', `${current}`);\n    setSearchParams(searchParams);\n  };\n\n  const handleNextPage = () => {\n    searchParams.set('page', `${String(Number(currentPage) + 1)}`);\n    setSearchParams(searchParams);\n  };\n\n  const handlePrevPage = () => {\n    searchParams.set('page', `${String(Number(currentPage) - 1)}`);\n    setSearchParams(searchParams);\n  };\n\n  const indexOfLastItem = +currentPage * +currentPerPage;\n  const indexOfFirstitem = indexOfLastItem - +currentPerPage;\n  const visibleItems = items.slice(indexOfFirstitem, indexOfLastItem);\n\n  const getItem = (index: number) => visibleItems[index].split(' ')[1];\n\n  const itemsFrom = getItem(0);\n  const itemsTo = getItem(visibleItems.length - 1);\n\n  return (\n    <div className=\"container\">\n      <h1>Items with Pagination</h1>\n\n      <p className=\"lead\" data-cy=\"info\">\n        {`\n          Page ${currentPage} \n          (items ${itemsFrom} - ${itemsTo} of ${items.length})\n        `}\n      </p>\n\n      <div className=\"form-group row\">\n        <div className=\"col-3 col-sm-2 col-xl-1\">\n          <select\n            data-cy=\"perPageSelector\"\n            id=\"perPageSelector\"\n            className=\"form-control\"\n            value={currentPerPage}\n            onChange={handleSelect}\n          >\n            <option value=\"3\">3</option>\n            <option value=\"5\">5</option>\n            <option value=\"10\">10</option>\n            <option value=\"20\">20</option>\n          </select>\n        </div>\n\n        <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n          items per page\n        </label>\n      </div>\n\n      <Pagination\n        total={42}\n        perPage={currentPerPage}\n        page={currentPage}\n        onPageChange={handlePageChange}\n        onNextChange={handleNextPage}\n        onPrevChange={handlePrevPage}\n      />\n      <Items items={visibleItems} />\n    </div>\n  );\n};\n\nexport default App;\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}